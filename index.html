<!DOCTYPE html>
<html>
  <head><meta name="generator" content="Hexo 3.9.0">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
  
  
  <title>  Qinli </title>

 
  
    <link rel="icon" href="/images/favicon.png">
  


  <link rel="stylesheet" href="/nayo.min.css"> 
</head>  
  <body>   
    
      <header class="header-wrapper">

  <nav class="inner">
    <div class="title">
      <a href="/">
        <img class="logo" src="/images/logo.png">
      </a>
    </div>

    <ul class="menu">
      
      
      <li class="item">
        <a class="link" id="menu-home" href="/">
          <i class="iconfont icon-home">
        </i></a>
      </li>
      
      
      
      <li class="item">
        <a class="link" id="menu-archives" href="/archives">
          <i class="iconfont icon-archives">
        </i></a>
      </li>
      
      
      
      <li class="item">
        <a class="link" id="menu-tags" href="/tags">
          <i class="iconfont icon-tags">
        </i></a>
      </li>
      
      
      
      <li class="item">
        <a class="link" id="menu-about" href="/about">
          <i class="iconfont icon-about">
        </i></a>
      </li>
      
      
      
      <li class="item">
        <a class="link" id="menu-search">
          <i class="iconfont icon-search">
        </i></a>
        

        
      
    </li></ul>
  </nav>
</header>

<header class="mobile-header-wrapper">
  <i id="mobile-toggle" class="iconfont icon-menu mobile-toggle"></i>
</header>   

      <div class="container">       
          
          
            <div class="container-inner">  
          

          


<div class="index slideDownMin">
	

	<div class="profile">

		<img class="avatar" src="/images/avatar.jpg">

		<p class="author">Qinli</p>

		<div class="social">
			
			
			<a target="_blank" class="links" href="https://github.com/bigboomclap">
				<i class="iconfont icon-Github">
			</i></a>
			
			
			<a target="_blank" class="links" href="1341588615">
				<i class="iconfont icon-QQ">
			</i></a>
			
			
			<a target="_blank" class="links" href="/">
				<i class="iconfont icon-Telegram">
			</i></a>
			
			
		</div>
	</div>


	

	
	
	

<article class="article">		
	   
	<div class="article-header">
	    
		<a class="title" href="/2019/09/26/c++最全大整数模板/">c++最全大整数模板</a>  
	       
		 

		<div class="meta">
			<time>Sep 26, 2019</time>			
		</div>
	</div>


	

    
	<div class="typo article-excerpt">	
		 
			<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DividedByZeroException</span> &#123;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BigInteger</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; digits;</span><br><span class="line">	<span class="keyword">bool</span> sign;          <span class="comment">//  true for positive, false for negitive</span></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">trim</span><span class="params">()</span></span>;        <span class="comment">//  remove zeros in tail, but if the value is 0, keep only one:)</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	BigInteger(<span class="keyword">int</span>);    <span class="comment">// construct with a int integer</span></span><br><span class="line">	BigInteger(<span class="built_in">string</span>&amp;);</span><br><span class="line">	BigInteger();</span><br><span class="line">	BigInteger(<span class="keyword">const</span> BigInteger&amp;);</span><br><span class="line">	BigInteger <span class="keyword">operator</span>=(<span class="keyword">const</span> BigInteger&amp; op2);</span><br><span class="line"></span><br><span class="line">	<span class="function">BigInteger    <span class="title">abs</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">	<span class="function">BigInteger    <span class="title">pow</span><span class="params">(<span class="keyword">int</span> a)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//binary operators</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">friend</span> BigInteger <span class="keyword">operator</span>+=(BigInteger&amp;, <span class="keyword">const</span> BigInteger&amp;);</span><br><span class="line">	<span class="keyword">friend</span> BigInteger <span class="keyword">operator</span>-=(BigInteger&amp;, <span class="keyword">const</span> BigInteger&amp;);</span><br><span class="line">	<span class="keyword">friend</span> BigInteger <span class="keyword">operator</span>*=(BigInteger&amp;, <span class="keyword">const</span> BigInteger&amp;);</span><br><span class="line">	<span class="keyword">friend</span> BigInteger <span class="keyword">operator</span>/=(BigInteger&amp;, <span class="keyword">const</span> BigInteger&amp;) <span class="keyword">throw</span>(DividedByZeroException);</span><br><span class="line">	<span class="keyword">friend</span> BigInteger <span class="keyword">operator</span>%=(BigInteger&amp;, <span class="keyword">const</span> BigInteger&amp;) <span class="keyword">throw</span>(DividedByZeroException);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">friend</span> BigInteger <span class="keyword">operator</span>+(<span class="keyword">const</span> BigInteger&amp;, <span class="keyword">const</span> BigInteger&amp;);</span><br><span class="line">	<span class="keyword">friend</span> BigInteger <span class="keyword">operator</span>-(<span class="keyword">const</span> BigInteger&amp;, <span class="keyword">const</span> BigInteger&amp;);</span><br><span class="line">	<span class="keyword">friend</span> BigInteger <span class="keyword">operator</span>*(<span class="keyword">const</span> BigInteger&amp;, <span class="keyword">const</span> BigInteger&amp;);</span><br><span class="line">	<span class="keyword">friend</span> BigInteger <span class="keyword">operator</span>/(<span class="keyword">const</span> BigInteger&amp;, <span class="keyword">const</span> BigInteger&amp;) <span class="keyword">throw</span>(DividedByZeroException);</span><br><span class="line">	<span class="keyword">friend</span> BigInteger <span class="keyword">operator</span>%(<span class="keyword">const</span> BigInteger&amp;, <span class="keyword">const</span> BigInteger&amp;) <span class="keyword">throw</span>(DividedByZeroException);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//uniary operators</span></span><br><span class="line">	<span class="keyword">friend</span> BigInteger <span class="keyword">operator</span>-(<span class="keyword">const</span> BigInteger&amp;);   <span class="comment">//negative</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">friend</span> BigInteger <span class="keyword">operator</span>++(BigInteger&amp;);        <span class="comment">//++v</span></span><br><span class="line">	<span class="keyword">friend</span> BigInteger <span class="keyword">operator</span>++(BigInteger&amp;, <span class="keyword">int</span>);   <span class="comment">//v++</span></span><br><span class="line">	<span class="keyword">friend</span> BigInteger <span class="keyword">operator</span>--(BigInteger&amp;);        <span class="comment">//--v</span></span><br><span class="line">	<span class="keyword">friend</span> BigInteger <span class="keyword">operator</span>--(BigInteger&amp;, <span class="keyword">int</span>);   <span class="comment">//v--</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(<span class="keyword">const</span> BigInteger&amp;, <span class="keyword">const</span> BigInteger&amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> BigInteger&amp;, <span class="keyword">const</span> BigInteger&amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> BigInteger&amp;, <span class="keyword">const</span> BigInteger&amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> BigInteger&amp;, <span class="keyword">const</span> BigInteger&amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;=(<span class="keyword">const</span> BigInteger&amp;, <span class="keyword">const</span> BigInteger&amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;=(<span class="keyword">const</span> BigInteger&amp;, <span class="keyword">const</span> BigInteger&amp;);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp;, <span class="keyword">const</span> BigInteger&amp;);   <span class="comment">//print the BigInteger</span></span><br><span class="line">	<span class="keyword">friend</span> istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream&amp;, BigInteger&amp;);         <span class="comment">// input the BigInteger</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">const</span> BigInteger ZERO;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">const</span> BigInteger ONE;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">const</span> BigInteger TEN;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> BigInteger BigInteger::ZERO = BigInteger(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">const</span> BigInteger BigInteger::ONE = BigInteger(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">const</span> BigInteger BigInteger::TEN = BigInteger(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">BigInteger::BigInteger() &#123;</span><br><span class="line">	sign = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">BigInteger::BigInteger(<span class="keyword">int</span> val) &#123; <span class="comment">// construct with a int integer</span></span><br><span class="line">	<span class="keyword">if</span> (val &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">		sign = <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		sign = <span class="literal">false</span>;</span><br><span class="line">		val *= (<span class="number">-1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">do</span> &#123;</span><br><span class="line">		digits.push_back((<span class="keyword">char</span>)(val % <span class="number">10</span>));</span><br><span class="line">		val /= <span class="number">10</span>;</span><br><span class="line">	&#125; <span class="keyword">while</span> (val != <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">BigInteger::BigInteger(<span class="built_in">string</span>&amp; def) &#123;</span><br><span class="line">	sign = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="built_in">string</span>::reverse_iterator iter = def.rbegin(); iter &lt; def.rend(); iter++) &#123;</span><br><span class="line">		<span class="keyword">char</span> ch = (*iter);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (iter == def.rend() - <span class="number">1</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (ch == <span class="string">'+'</span>) &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (ch == <span class="string">'-'</span>) &#123;</span><br><span class="line">				sign = <span class="literal">false</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		digits.push_back((<span class="keyword">char</span>)((*iter) - <span class="string">'0'</span>));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	trim();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> BigInteger::trim() &#123;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;::reverse_iterator iter = digits.rbegin();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (!digits.empty() &amp;&amp; (*iter) == <span class="number">0</span>) &#123;</span><br><span class="line">		digits.pop_back();</span><br><span class="line">		iter = digits.rbegin();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (digits.size() == <span class="number">0</span>) &#123;</span><br><span class="line">		sign = <span class="literal">true</span>;</span><br><span class="line">		digits.push_back(<span class="number">0</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">BigInteger::BigInteger(<span class="keyword">const</span> BigInteger&amp; op2) &#123;</span><br><span class="line">	sign = op2.sign;</span><br><span class="line">	digits = op2.digits;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">BigInteger BigInteger::<span class="keyword">operator</span>=(<span class="keyword">const</span> BigInteger&amp; op2) &#123;</span><br><span class="line">	digits = op2.digits;</span><br><span class="line">	sign = op2.sign;</span><br><span class="line">	<span class="keyword">return</span> (*<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">BigInteger BigInteger::<span class="built_in">abs</span>() <span class="keyword">const</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> (sign) &#123;</span><br><span class="line">		<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> -(*<span class="keyword">this</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BigInteger BigInteger::<span class="built_in">pow</span>(<span class="keyword">int</span> a) &#123;</span><br><span class="line">	<span class="function">BigInteger <span class="title">res</span><span class="params">(<span class="number">1</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a; i++) &#123;</span><br><span class="line">		res *= (*<span class="keyword">this</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//binary operators</span></span><br><span class="line">BigInteger <span class="keyword">operator</span>+=(BigInteger&amp; op1, <span class="keyword">const</span> BigInteger&amp; op2) &#123;</span><br><span class="line">	<span class="keyword">if</span> (op1.sign == op2.sign) &#123;     <span class="comment">//只处理相同的符号的情况，异号的情况给-处理</span></span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;::iterator iter1;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;::const_iterator iter2;</span><br><span class="line">		iter1 = op1.digits.begin();</span><br><span class="line">		iter2 = op2.digits.begin();</span><br><span class="line">		<span class="keyword">char</span> to_add = <span class="number">0</span>;        <span class="comment">//进位</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (iter1 != op1.digits.end() &amp;&amp; iter2 != op2.digits.end()) &#123;</span><br><span class="line">			(*iter1) = (*iter1) + (*iter2) + to_add;</span><br><span class="line">			to_add = ((*iter1) &gt; <span class="number">9</span>);    <span class="comment">// 大于9进一位</span></span><br><span class="line">			(*iter1) = (*iter1) % <span class="number">10</span>;</span><br><span class="line">			iter1++;</span><br><span class="line">			iter2++;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (iter1 != op1.digits.end()) &#123;    <span class="comment">//</span></span><br><span class="line">			(*iter1) = (*iter1) + to_add;</span><br><span class="line">			to_add = ((*iter1) &gt; <span class="number">9</span>);</span><br><span class="line">			(*iter1) %= <span class="number">10</span>;</span><br><span class="line">			iter1++;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (iter2 != op2.digits.end()) &#123;</span><br><span class="line">			<span class="keyword">char</span> val = (*iter2) + to_add;</span><br><span class="line">			to_add = (val &gt; <span class="number">9</span>);</span><br><span class="line">			val %= <span class="number">10</span>;</span><br><span class="line">			op1.digits.push_back(val);</span><br><span class="line">			iter2++;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (to_add != <span class="number">0</span>) &#123;</span><br><span class="line">			op1.digits.push_back(to_add);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> op1;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (op1.sign) &#123;</span><br><span class="line">			<span class="keyword">return</span> op1 -= (-op2);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> op1 = op2 - (-op1);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BigInteger <span class="keyword">operator</span>-=(BigInteger&amp; op1, <span class="keyword">const</span> BigInteger&amp; op2) &#123;</span><br><span class="line">	<span class="keyword">if</span> (op1.sign == op2.sign) &#123;     <span class="comment">//只处理相同的符号的情况，异号的情况给+处理</span></span><br><span class="line">		<span class="keyword">if</span> (op1.sign) &#123;</span><br><span class="line">			<span class="keyword">if</span> (op1 &lt; op2) &#123; <span class="comment">// 2 - 3</span></span><br><span class="line">				<span class="keyword">return</span>  op1 = -(op2 - op1);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> (-op1 &gt; -op2) &#123; <span class="comment">// (-3)-(-2) = -(3 - 2)</span></span><br><span class="line">				<span class="keyword">return</span> op1 = -((-op1) - (-op2));</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">else</span> &#123;           <span class="comment">// (-2)-(-3) = 3 - 2</span></span><br><span class="line">				<span class="keyword">return</span> op1 = (-op2) - (-op1);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;::iterator iter1;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;::const_iterator iter2;</span><br><span class="line">		iter1 = op1.digits.begin();</span><br><span class="line">		iter2 = op2.digits.begin();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">char</span> to_substract = <span class="number">0</span>;  <span class="comment">//借位</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (iter1 != op1.digits.end() &amp;&amp; iter2 != op2.digits.end()) &#123;</span><br><span class="line">			(*iter1) = (*iter1) - (*iter2) - to_substract;</span><br><span class="line">			to_substract = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> ((*iter1) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">				to_substract = <span class="number">1</span>;</span><br><span class="line">				(*iter1) += <span class="number">10</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			iter1++;</span><br><span class="line">			iter2++;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (iter1 != op1.digits.end()) &#123;</span><br><span class="line">			(*iter1) = (*iter1) - to_substract;</span><br><span class="line">			to_substract = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> ((*iter1) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">				to_substract = <span class="number">1</span>;</span><br><span class="line">				(*iter1) += <span class="number">10</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			iter1++;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		op1.trim();</span><br><span class="line">		<span class="keyword">return</span> op1;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (op1 &gt; BigInteger::ZERO) &#123;</span><br><span class="line">			<span class="keyword">return</span> op1 += (-op2);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> op1 = -(op2 + (-op1));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">BigInteger <span class="keyword">operator</span>*=(BigInteger&amp; op1, <span class="keyword">const</span> BigInteger&amp; op2) &#123;</span><br><span class="line">	BigInteger result(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (op1 == BigInteger::ZERO || op2 == BigInteger::ZERO) &#123;</span><br><span class="line">		result = BigInteger::ZERO;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;::const_iterator iter2 = op2.digits.begin();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (iter2 != op2.digits.end()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (*iter2 != <span class="number">0</span>) &#123;</span><br><span class="line">				<span class="built_in">deque</span>&lt;<span class="keyword">char</span>&gt; temp(op1.digits.begin(), op1.digits.end());</span><br><span class="line">				<span class="keyword">char</span> to_add = <span class="number">0</span>;</span><br><span class="line">				<span class="built_in">deque</span>&lt;<span class="keyword">char</span>&gt;::iterator iter1 = temp.begin();</span><br><span class="line"></span><br><span class="line">				<span class="keyword">while</span> (iter1 != temp.end()) &#123;</span><br><span class="line">					(*iter1) *= (*iter2);</span><br><span class="line">					(*iter1) += to_add;</span><br><span class="line">					to_add = (*iter1) / <span class="number">10</span>;</span><br><span class="line">					(*iter1) %= <span class="number">10</span>;</span><br><span class="line">					iter1++;</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span> (to_add != <span class="number">0</span>) &#123;</span><br><span class="line">					temp.push_back(to_add);</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">int</span> num_of_zeros = iter2 - op2.digits.begin();</span><br><span class="line"></span><br><span class="line">				<span class="keyword">while</span> (num_of_zeros--) &#123;</span><br><span class="line">					temp.push_front(<span class="number">0</span>);</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				BigInteger temp2;</span><br><span class="line">				temp2.digits.insert(temp2.digits.end(), temp.begin(), temp.end());</span><br><span class="line">				temp2.trim();</span><br><span class="line">				result = result + temp2;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			iter2++;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		result.sign = ((op1.sign &amp;&amp; op2.sign) || (!op1.sign &amp;&amp; !op2.sign));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	op1 = result;</span><br><span class="line">	<span class="keyword">return</span> op1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BigInteger <span class="keyword">operator</span>/=(BigInteger&amp; op1, <span class="keyword">const</span> BigInteger&amp; op2) <span class="keyword">throw</span>(DividedByZeroException) &#123;</span><br><span class="line">	<span class="keyword">if</span> (op2 == BigInteger::ZERO) &#123;</span><br><span class="line">		<span class="keyword">throw</span> DividedByZeroException();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	BigInteger t1 = op1.<span class="built_in">abs</span>(), t2 = op2.<span class="built_in">abs</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (t1 &lt; t2) &#123;</span><br><span class="line">		op1 = BigInteger::ZERO;</span><br><span class="line">		<span class="keyword">return</span> op1;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//现在 t1 &gt; t2 &gt; 0</span></span><br><span class="line">	<span class="comment">//只需将 t1/t2的结果交给result就可以了</span></span><br><span class="line">	<span class="built_in">deque</span>&lt;<span class="keyword">char</span>&gt; temp;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;::reverse_iterator iter = t1.digits.rbegin();</span><br><span class="line"></span><br><span class="line">	<span class="function">BigInteger <span class="title">temp2</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (iter != t1.digits.rend()) &#123;</span><br><span class="line">		temp2 = temp2 * BigInteger::TEN + BigInteger((<span class="keyword">int</span>)(*iter));</span><br><span class="line">		<span class="keyword">char</span> s = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (temp2 &gt;= t2) &#123;</span><br><span class="line">			temp2 = temp2 - t2;</span><br><span class="line">			s = s + <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		temp.push_front(s);</span><br><span class="line">		iter++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	op1.digits.clear();</span><br><span class="line">	op1.digits.insert(op1.digits.end(), temp.begin(), temp.end());</span><br><span class="line">	op1.trim();</span><br><span class="line">	op1.sign = ((op1.sign &amp;&amp; op2.sign) || (!op1.sign &amp;&amp; !op2.sign));</span><br><span class="line">	<span class="keyword">return</span> op1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BigInteger <span class="keyword">operator</span>%=(BigInteger&amp; op1, <span class="keyword">const</span> BigInteger&amp; op2) <span class="keyword">throw</span>(DividedByZeroException) &#123;</span><br><span class="line">	<span class="keyword">return</span> op1 -= ((op1 / op2) * op2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BigInteger <span class="keyword">operator</span>+(<span class="keyword">const</span> BigInteger&amp; op1, <span class="keyword">const</span> BigInteger&amp; op2) &#123;</span><br><span class="line">	<span class="function">BigInteger <span class="title">temp</span><span class="params">(op1)</span></span>;</span><br><span class="line">	temp += op2;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line">BigInteger <span class="keyword">operator</span>-(<span class="keyword">const</span> BigInteger&amp; op1, <span class="keyword">const</span> BigInteger&amp; op2) &#123;</span><br><span class="line">	<span class="function">BigInteger <span class="title">temp</span><span class="params">(op1)</span></span>;</span><br><span class="line">	temp -= op2;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BigInteger <span class="keyword">operator</span>*(<span class="keyword">const</span> BigInteger&amp; op1, <span class="keyword">const</span> BigInteger&amp; op2) &#123;</span><br><span class="line">	<span class="function">BigInteger <span class="title">temp</span><span class="params">(op1)</span></span>;</span><br><span class="line">	temp *= op2;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BigInteger <span class="keyword">operator</span>/(<span class="keyword">const</span> BigInteger&amp; op1, <span class="keyword">const</span> BigInteger&amp; op2) <span class="keyword">throw</span>(DividedByZeroException) &#123;</span><br><span class="line">	BigInteger temp(op1);</span><br><span class="line">	temp /= op2;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BigInteger <span class="keyword">operator</span>%(<span class="keyword">const</span> BigInteger&amp; op1, <span class="keyword">const</span> BigInteger&amp; op2) <span class="keyword">throw</span>(DividedByZeroException) &#123;</span><br><span class="line">	BigInteger temp(op1);</span><br><span class="line">	temp %= op2;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//uniary operators</span></span><br><span class="line">BigInteger <span class="keyword">operator</span>-(<span class="keyword">const</span> BigInteger&amp; op) &#123;  <span class="comment">//negative</span></span><br><span class="line">	BigInteger temp = BigInteger(op);</span><br><span class="line">	temp.sign = !temp.sign;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BigInteger <span class="keyword">operator</span>++(BigInteger&amp; op) &#123;   <span class="comment">//++v</span></span><br><span class="line">	op += BigInteger::ONE;</span><br><span class="line">	<span class="keyword">return</span> op;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BigInteger <span class="keyword">operator</span>++(BigInteger&amp; op, <span class="keyword">int</span> x) &#123; <span class="comment">//v++</span></span><br><span class="line">	<span class="function">BigInteger <span class="title">temp</span><span class="params">(op)</span></span>;</span><br><span class="line">	++op;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BigInteger <span class="keyword">operator</span>--(BigInteger&amp; op) &#123;   <span class="comment">//--v</span></span><br><span class="line">	op -= BigInteger::ONE;</span><br><span class="line">	<span class="keyword">return</span> op;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BigInteger <span class="keyword">operator</span>--(BigInteger&amp; op, <span class="keyword">int</span> x) &#123; <span class="comment">//v--</span></span><br><span class="line">	<span class="function">BigInteger <span class="title">temp</span><span class="params">(op)</span></span>;</span><br><span class="line">	--op;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> BigInteger&amp; op1, <span class="keyword">const</span> BigInteger&amp; op2) &#123;</span><br><span class="line">	<span class="keyword">if</span> (op1.sign != op2.sign) &#123;</span><br><span class="line">		<span class="keyword">return</span> !op1.sign;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (op1.digits.size() != op2.digits.size())</span><br><span class="line">			<span class="keyword">return</span> (op1.sign &amp;&amp; op1.digits.size() &lt; op2.digits.size())</span><br><span class="line">			|| (!op1.sign &amp;&amp; op1.digits.size() &gt; op2.digits.size());</span><br><span class="line"></span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;::const_reverse_iterator iter1, iter2;</span><br><span class="line">		iter1 = op1.digits.rbegin();</span><br><span class="line">		iter2 = op2.digits.rbegin();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (iter1 != op1.digits.rend()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (op1.sign &amp;&amp; *iter1 &lt; *iter2) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (op1.sign &amp;&amp; *iter1 &gt; * iter2) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (!op1.sign &amp;&amp; *iter1 &gt; * iter2) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (!op1.sign &amp;&amp; *iter1 &lt; *iter2) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			iter1++;</span><br><span class="line">			iter2++;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> BigInteger&amp; op1, <span class="keyword">const</span> BigInteger&amp; op2) &#123;</span><br><span class="line">	<span class="keyword">if</span> (op1.sign != op2.sign || op1.digits.size() != op2.digits.size()) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;::const_iterator iter1, iter2;</span><br><span class="line">	iter1 = op1.digits.begin();</span><br><span class="line">	iter2 = op2.digits.begin();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (iter1 != op1.digits.end()) &#123;</span><br><span class="line">		<span class="keyword">if</span> (*iter1 != *iter2) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		iter1++;</span><br><span class="line">		iter2++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> BigInteger&amp; op1, <span class="keyword">const</span> BigInteger&amp; op2) &#123;</span><br><span class="line">	<span class="keyword">return</span> !(op1 == op2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&gt;=(<span class="keyword">const</span> BigInteger&amp; op1, <span class="keyword">const</span> BigInteger&amp; op2) &#123;</span><br><span class="line">	<span class="keyword">return</span> (op1 &gt; op2) || (op1 == op2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;=(<span class="keyword">const</span> BigInteger&amp; op1, <span class="keyword">const</span> BigInteger&amp; op2) &#123;</span><br><span class="line">	<span class="keyword">return</span> (op1 &lt; op2) || (op1 == op2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(<span class="keyword">const</span> BigInteger&amp; op1, <span class="keyword">const</span> BigInteger&amp; op2) &#123;</span><br><span class="line">	<span class="keyword">return</span> !(op1 &lt;= op2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; stream, <span class="keyword">const</span> BigInteger&amp; val) &#123;  <span class="comment">//print the BigInteger</span></span><br><span class="line">	<span class="keyword">if</span> (!val.sign) &#123;</span><br><span class="line">		stream &lt;&lt; <span class="string">"-"</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;::const_reverse_iterator iter = val.digits.rbegin(); iter != val.digits.rend(); iter++) &#123;</span><br><span class="line">		stream &lt;&lt; (<span class="keyword">char</span>)((*iter) + <span class="string">'0'</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> stream;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream&amp; stream, BigInteger&amp; val) &#123;   <span class="comment">//Input the BigInteger</span></span><br><span class="line">	<span class="built_in">string</span> str;</span><br><span class="line">	stream &gt;&gt; str;</span><br><span class="line">	val = BigInteger(str);</span><br><span class="line">	<span class="keyword">return</span> stream;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	BigInteger a, b;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; a + b &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

		  	  
	</div>



	<div class="article-categories">
	 
	</div>
	

	<div class="article-tags">
		
			<i class="iconfont icon-tags" style="margin-right:4px"></i>
			            
				<a class="link" href="/tags/高精度模板/">高精度模板</a>           
			
		
	</div>

	<div class="article-bottom">
		<a class="readmore" href="/2019/09/26/c++最全大整数模板/">Continue</a> 	
	</div>	
    
</article>

	
	
	
	

<article class="article">		
	   
	<div class="article-header">
	    
		<a class="title" href="/2019/09/24/卡特兰数列/">卡特兰数列</a>  
	       
		 

		<div class="meta">
			<time>Sep 24, 2019</time>			
		</div>
	</div>


	

    
	<div class="typo article-excerpt">	
		
			<p>卡特兰数列的原理及其应用场景<br>令h(1)＝1，catalan数满足递归式：<br>h(n)= h(1)<em>h(n-1) + h(2)</em>h(n-2) + … + h(n-1)h(1) (其中n&gt;=2)<br>该递推关系的解为：<strong>h(n)=C(2n,n)/(n+1) (n=0,1,2,…)</strong></p>
<p>1, 1, 2, 5, 14, 42, 132, 429, 1430, 4862, 16796, 58786, 208012, 742900, 2674440, 9694845, 35357670, 129644790, 477638700, 1767263190, 6564120420, 24466267020, 91482563640, 343059613650, 1289904147324, 4861946401452, … </p>
		  	  
	</div>



	<div class="article-categories">
	 
	</div>
	

	<div class="article-tags">
		
			<i class="iconfont icon-tags" style="margin-right:4px"></i>
			            
				<a class="link" href="/tags/number-theory/">number theory</a>           
			
		
	</div>

	<div class="article-bottom">
		<a class="readmore" href="/2019/09/24/卡特兰数列/">Continue</a> 	
	</div>	
    
</article>

	
	
	
	

<article class="article">		
	   
	<div class="article-header">
	    
		<a class="title" href="/2019/09/10/牛客练习赛1083/">牛客练习赛1083</a>  
	       
		 

		<div class="meta">
			<time>Sep 10, 2019</time>			
		</div>
	</div>


	

    
	<div class="typo article-excerpt">	
		
			<p>牛客练习<a href="https://ac.nowcoder.com/acm/contest/1083#question" target="_blank" rel="noopener">1083</a></p>
<p><a href="https://ac.nowcoder.com/acm/contest/1083/B" target="_blank" rel="noopener">B题</a></p>
<p>​        字符串常用套路：将所有后面的状态完全记录到到前一个中,找子序列就按照信息跳着找就行了。</p>
<p>用dp[i][j]记录后面所有字母出现位置（如果遇到相同的字母，则保留里i位置近的出现位置）。</p>
		  	  
	</div>



	<div class="article-categories">
	 
	</div>
	

	<div class="article-tags">
		
			<i class="iconfont icon-tags" style="margin-right:4px"></i>
			            
				<a class="link" href="/tags/比赛/">比赛</a>           
			
		
	</div>

	<div class="article-bottom">
		<a class="readmore" href="/2019/09/10/牛客练习赛1083/">Continue</a> 	
	</div>	
    
</article>

	
	
	
	

<article class="article">		
	   
	<div class="article-header">
	    
		<a class="title" href="/2019/09/10/Educational-Codeforces-Round-72-Rated-for-Div-2/">Educational Codeforces Round 72 (Rated for Div. 2)</a>  
	       
		 

		<div class="meta">
			<time>Sep 10, 2019</time>			
		</div>
	</div>


	

    
	<div class="typo article-excerpt">	
		
			<p><a href="https://codeforces.com/contest/1217" target="_blank" rel="noopener">Educational Codeforces Round 72 (Rated for Div. 2)</a></p>
<p>B题：</p>
<p>​        首先找最大值看一刀能不能砍死它，不能再处理，记得最后一刀砍最大的。</p>
<p>​        时间复杂度：nlog(n)</p>
		  	  
	</div>



	<div class="article-categories">
	 
	</div>
	

	<div class="article-tags">
		
			<i class="iconfont icon-tags" style="margin-right:4px"></i>
			            
				<a class="link" href="/tags/比赛/">比赛</a>           
			
		
	</div>

	<div class="article-bottom">
		<a class="readmore" href="/2019/09/10/Educational-Codeforces-Round-72-Rated-for-Div-2/">Continue</a> 	
	</div>	
    
</article>

	
	
	
	

<article class="article">		
	   
	<div class="article-header">
	    
		<a class="title" href="/2019/09/07/Codeforces-Round-583/">Codeforces Round #583</a>  
	       
		 

		<div class="meta">
			<time>Sep 07, 2019</time>			
		</div>
	</div>


	

    
	<div class="typo article-excerpt">	
		
			<p><a href="https://codeforces.com/contest/1214" target="_blank" rel="noopener">Codeforces Round #583 (Div. 1 + Div. 2, based on Olympiad of Metropolises)</a>题解</p>
<p>A题：</p>
<p>​        比赛的时候用分别枚举枚举美元和欧元，然后TLE了。后来改了一下就过了，先枚举欧元合法的情况，然后取余美元就可以了，因为肯定是尽可能的多取美元。</p>
<p>​        时间复杂度：n</p>
		  	  
	</div>



	<div class="article-categories">
	 
	</div>
	

	<div class="article-tags">
		
			<i class="iconfont icon-tags" style="margin-right:4px"></i>
			            
				<a class="link" href="/tags/比赛/">比赛</a>           
			
		
	</div>

	<div class="article-bottom">
		<a class="readmore" href="/2019/09/07/Codeforces-Round-583/">Continue</a> 	
	</div>	
    
</article>

	
	
	
	

<article class="article">		
	   
	<div class="article-header">
	    
		<a class="title" href="/2019/08/31/Codeforces-Round-582/">Codeforces Round #582 </a>  
	       
		 

		<div class="meta">
			<time>Aug 31, 2019</time>			
		</div>
	</div>


	

    
	<div class="typo article-excerpt">	
		
			<p><a href="https://codeforces.com/contest/1213" target="_blank" rel="noopener">Codeforces Round #582 </a>小结</p>
<p>D2题解：</p>
<p>​        将所有的数一直除2的次方，直到该数为0，保存每一次出现的数字和对应花费的次数（用小根堆保存）。最后，将所有可能出现的数的花费遍历一遍，找最小值。</p>
<p>​        时间复杂度：n+log（n）</p>
		  	  
	</div>



	<div class="article-categories">
	 
	</div>
	

	<div class="article-tags">
		
			<i class="iconfont icon-tags" style="margin-right:4px"></i>
			            
				<a class="link" href="/tags/比赛/">比赛</a>           
			
		
	</div>

	<div class="article-bottom">
		<a class="readmore" href="/2019/08/31/Codeforces-Round-582/">Continue</a> 	
	</div>	
    
</article>

	
	
	
	

<article class="article">		
	   
	<div class="article-header">
	    
		<a class="title" href="/2019/08/13/Round-Corridor-by-codeforces/">Round Corridor by codeforces</a>  
	       
		 

		<div class="meta">
			<time>Aug 13, 2019</time>			
		</div>
	</div>


	

    
	<div class="typo article-excerpt">	
		
			<p><img src="https://bigboomclap.oss-cn-shenzhen.aliyuncs.com/%E5%8D%9A%E5%AE%A2%E5%9B%BE%E7%89%87/N8SGG06PU21YN3CK_CBYO~1.png" alt></p>
<p><img src="https://bigboomclap.oss-cn-shenzhen.aliyuncs.com/%E5%8D%9A%E5%AE%A2%E5%9B%BE%E7%89%87/%6089%603%5DF6DQ71~D~P%7B(PQVJ8.png" alt></p>
		  	  
	</div>



	<div class="article-categories">
	 
	</div>
	

	<div class="article-tags">
		
			<i class="iconfont icon-tags" style="margin-right:4px"></i>
			            
				<a class="link" href="/tags/number-theory/">number theory</a>           
			
		
	</div>

	<div class="article-bottom">
		<a class="readmore" href="/2019/08/13/Round-Corridor-by-codeforces/">Continue</a> 	
	</div>	
    
</article>

	
	
	
	

<article class="article">		
	   
	<div class="article-header">
	    
		<a class="title" href="/2019/08/12/ZOJ-Problem-Set-1010/">ZOJ Problem Set - 1010</a>  
	       
		 

		<div class="meta">
			<time>Aug 12, 2019</time>			
		</div>
	</div>


	

    
	<div class="typo article-excerpt">	
		
			<p>ZOJ Problem Set - 1010</p>
<p>Area</p>
<p>Jerry, a middle school student, addicts himself to mathematical research. Maybe the problems he has thought are really too easy to an expert. But as an amateur, especially as a 15-year-old boy, he had done very well. He is so rolling in thinking the mathematical problem that he is easily to try to solve every problem he met in a mathematical way. One day, he found a piece of paper on the desk. His younger sister, Mary, a four-year-old girl, had drawn some lines. But those lines formed a special kind of concave polygon by accident as Fig. 1 shows.</p>
<p><img src="http://acm.zju.edu.cn/onlinejudge/showImage.do?name=0000%2F1010%2F1010-1.jpg" alt="img"><br>Fig. 1 The lines his sister had drawn</p>
<p>“Great!” he thought, “The polygon seems so regular. I had just learned how to calculate the area of triangle, rectangle and circle. I’m sure I can find out how to calculate the area of this figure.” And so he did. First of all, he marked the vertexes in the polygon with their coordinates as Fig. 2 shows. And then he found the result—0.75 effortless.</p>
<p><img src="/images/placeholder.png" alt="img" data-src="http://acm.zju.edu.cn/onlinejudge/showImage.do?name=0000%2F1010%2F1010-2.jpg" class="lazyload"><br>Fig.2 The polygon with the coordinates of vertexes</p>
<p>Of course, he was not satisfied with the solution of such an easy problem. “Mmm, if there’s a random polygon on the paper, then how can I calculate the area?” he asked himself. Till then, he hadn’t found out the general rules on calculating the area of a random polygon. He clearly knew that the answer to this question is out of his competence. So he asked you, an erudite expert, to offer him help. The kind behavior would be highly appreciated by him.</p>
<p><strong>Input</strong></p>
<p>The input data consists of several figures. The first line of the input for each figure contains a single integer n, the number of vertexes in the figure. (0 &lt;= n &lt;= 1000).</p>
<p>In the following n lines, each contain a pair of real numbers, which describes the coordinates of the vertexes, (xi, yi). The figure in each test case starts from the first vertex to the second one, then from the second to the third, ���� and so on. At last, it closes from the nth vertex to the first one.</p>
<p>The input ends with an empty figure (n = 0). And this figure not be processed.</p>
		  	  
	</div>



	<div class="article-categories">
	 
	</div>
	

	<div class="article-tags">
		
			<i class="iconfont icon-tags" style="margin-right:4px"></i>
			            
				<a class="link" href="/tags/Computing-Geometry/">Computing Geometry</a>           
			
		
	</div>

	<div class="article-bottom">
		<a class="readmore" href="/2019/08/12/ZOJ-Problem-Set-1010/">Continue</a> 	
	</div>	
    
</article>

	
	
	
	

<article class="article">		
	   
	<div class="article-header">
	    
		<a class="title" href="/2019/08/12/template-of-Computing-Geometry/">template of Computing Geometry</a>  
	       
		 

		<div class="meta">
			<time>Aug 12, 2019</time>			
		</div>
	</div>


	

    
	<div class="typo article-excerpt">	
		 
			<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-12</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> PI = <span class="built_in">acos</span>(<span class="number">-1.0</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> max_n = <span class="number">1010</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vet;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">a == b	sgn(a - b) == 0</span></span><br><span class="line"><span class="comment">a &gt; b	sgn(a - b) &gt; 0</span></span><br><span class="line"><span class="comment">a &gt;= b	sgn(a - b) &gt;= 0</span></span><br><span class="line"><span class="comment">a &lt; b	sgn(a - b) &lt; 0</span></span><br><span class="line"><span class="comment">a &lt;= b	sgn(a - b) &lt;= 0</span></span><br><span class="line"><span class="comment">a != b	sgn(a - b) != 0</span></span><br><span class="line"><span class="comment">计算机浮点数误差，在对浮点数进行大小比较时，如果他们的差的绝对值小于这个量，那么我们就认为他们是相等的</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// sgn返回x经过eps（ilon）处理的符号，负数返回-1，正数返回1，x的绝对值如果足够小，就返回0。</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sgn</span><span class="params">(<span class="keyword">double</span> x)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> x&lt;-eps ? <span class="number">-1</span> : x&gt;eps ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">当提供给C语言中的标准库函数double sqrt (double x)的x为负值</span></span><br><span class="line"><span class="comment">时，sqrt会返回nan，输出时会显示成nan或-1.#IND00（根据系统的不同）</span></span><br><span class="line"><span class="comment">。在进行计算几何编程时，经常有对接近零</span></span><br><span class="line"><span class="comment">的数进行开方的情况，如果输入的数是一个极小的负数，那</span></span><br><span class="line"><span class="comment">么sqrt会返回nan这个错误的结果，导致输出错误。解决的方</span></span><br><span class="line"><span class="comment">法就是将sqrt包装一下，在每次开方前进行判断</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">mysqrt</span><span class="params">(<span class="keyword">double</span> x)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> max(<span class="number">0.0</span>, <span class="built_in">sqrt</span>(x));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">负零</span></span><br><span class="line"><span class="comment">大部分的标程的输出是不会输出负零的，如下面这段程序：</span></span><br><span class="line"><span class="comment">int main() &#123;</span></span><br><span class="line"><span class="comment">	printf("%.2f\n", -0.0000000001);</span></span><br><span class="line"><span class="comment">	return 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">会输出-0.00。有时这样的结果是错误的，所以在没有Special Judge的题目</span></span><br><span class="line"><span class="comment">要求四舍五入时，不要忘记对负零进行特殊判断。</span></span><br><span class="line"><span class="comment">但有的标程也不会进行这样的特殊判断，所以在WA时不要放弃摸索。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Pt</span> &#123;</span></span><br><span class="line">	<span class="keyword">double</span> x, y;</span><br><span class="line">	Pt() &#123;&#125;</span><br><span class="line">	Pt(<span class="keyword">double</span> a, <span class="keyword">double</span> b) &#123;</span><br><span class="line">		x = a; y = b;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">norm</span><span class="params">(Pt p)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">sqrt</span>(p.x * p.x + p.y * p.y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(Pt p)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"(%f, %f)\n"</span>, p.x, p.y);</span><br><span class="line">&#125;</span><br><span class="line">Pt <span class="keyword">operator</span> -(Pt p, Pt p1) &#123;</span><br><span class="line">	<span class="keyword">return</span> Pt(p.x - p1.x, p.y - p1.y);</span><br><span class="line">&#125;</span><br><span class="line">Pt <span class="keyword">operator</span> + (Pt p, Pt p1) &#123;</span><br><span class="line">	<span class="keyword">return</span> Pt(p.x + p1.x, p.y + p1.y);</span><br><span class="line">&#125;</span><br><span class="line">Pt <span class="keyword">operator</span> * (<span class="keyword">double</span> A, Pt p1) &#123;</span><br><span class="line">	<span class="keyword">return</span> Pt(A * p1.x, A * p1.y);</span><br><span class="line">&#125;</span><br><span class="line">Pt <span class="keyword">operator</span> * (Pt p1, <span class="keyword">double</span> A) &#123;</span><br><span class="line">	<span class="keyword">return</span> Pt(A * p1.x, A * p1.y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">dist</span><span class="params">(Pt a, Pt b)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> norm((a - b));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//向量 a⃗ =(ax,ay) 的长度是 √a2x+a2y 。</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">len</span><span class="params">(Pt p)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">sqrt</span>(p.x * p.x + p.y * p.y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//a⋅b=axbx+ayby=|a||b|cosθ 点积</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">dot</span><span class="params">(Pt a, Pt b)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a.x* b.x + a.y * b.y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|b×a|&gt;0 	a在b的逆时针方向</span></span><br><span class="line"><span class="comment">|b×a|=0	a与b共线</span></span><br><span class="line"><span class="comment">|b×a|&lt;0	a在b的顺时针方向*/</span></span><br><span class="line"><span class="comment">//a×b=axby−aybx	叉积</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">det</span><span class="params">(Pt a, Pt b)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a.x* b.y - a.y * b.x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//将向量 a⃗  绕原点逆时针旋转 A 弧度。</span></span><br><span class="line"><span class="function">Pt <span class="title">rotate</span><span class="params">(Pt p, <span class="keyword">double</span> a)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> Pt(p.x * <span class="built_in">cos</span>(a) - p.y * <span class="built_in">sin</span>(a), p.x * <span class="built_in">sin</span>(a) + p.y * <span class="built_in">cos</span>(a));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//直线和线段</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//我们可以用一条线段的两个端点来表示一条线段。直线的表示有两种方式，一种方</span></span><br><span class="line"><span class="comment">//式是使用二元一次方程 y = kx + b 来表示，另一种是用直线上任意一条长度不为</span></span><br><span class="line"><span class="comment">//零的线段来表示。由于使用方程表示接近垂直于某坐标轴的直线时容易产生精度误</span></span><br><span class="line"><span class="comment">//差，所以我们通常使用直线上的某条线段来表示直线。</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Sg</span> &#123;</span></span><br><span class="line">	Pt s, t;</span><br><span class="line">	Sg(Pt s, Pt t) : s(s), t(t) &#123; &#125;</span><br><span class="line">	Sg(<span class="keyword">double</span> a, <span class="keyword">double</span> b, <span class="keyword">double</span> c, <span class="keyword">double</span> d) : s(a, b), t(c, d) &#123;</span><br><span class="line">		s.x = a; s.y = b;</span><br><span class="line">		t.x = c; t.y = d;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//点在线段上的判断</span></span><br><span class="line"><span class="comment">//判断点 C 在线段 AB 上的两条依据：</span></span><br><span class="line"><span class="comment">//CA⋅CB= 0 。</span></span><br><span class="line"><span class="comment">//C 在以 AB 为对角顶点的矩形内</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">PtOnSegment</span><span class="params">(Pt s, Pt t, Pt a)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> !det(a - s, a - t) &amp;&amp; min(s.x, t.x) &lt;= a.x &amp;&amp; a.x &lt;= max(s.x, t.x) &amp;&amp;</span><br><span class="line">		min(s.y, t.y) &lt;= a.y &amp;&amp; a.y &lt;= max(s.y, t.y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//判断点 C 在 AB 为对角线定点的矩形内较麻烦，可以直接判断 CA→⋅CB→ </span></span><br><span class="line"><span class="comment">//的符号来判断 C 在直线 AB 上是否在 AB 之间。</span></span><br><span class="line"><span class="comment">//bool PtOnSegment(Pt p, Pt a, Pt b) &#123;</span></span><br><span class="line"><span class="comment">//	return !sgn(det(p - a, b - a)) &amp;&amp; sgn(dot(p - a, p - b)) &lt;= 0;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//把上例代码中的&lt;=改成&lt;就能实现不含线段端点的点在线段上的判断。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//点在直线上的判断</span></span><br><span class="line"><span class="comment">//点在直线上的判断很简单只要把点在线段上的判断的步骤2去掉即可。</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">PtOnline</span><span class="params">(Pt p, Pt a, Pt b)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> !sgn(det(p - a, b - a));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//求点到直线的投影</span></span><br><span class="line"><span class="function">Pt <span class="title">PtLineProj</span><span class="params">(Pt s, Pt t, Pt p)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">double</span> r = dot(p - s, t - s) / (norm(t - s) * norm(t - s));</span><br><span class="line">	<span class="keyword">return</span> s + (t - s) * r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//判断直线关系</span></span><br><span class="line"><span class="comment">//直线有相交和平行两种关系，靠叉乘能简单判断。</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">parallel</span><span class="params">(Pt a, Pt b, Pt s, Pt t)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> !sgn(det(a - b, s - t));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// = 0 表示,相交于端点也是认定为相交</span></span><br><span class="line"><span class="comment">//https://www.cnblogs.com/g0feng/archive/2012/05/18/2508293.html</span></span><br><span class="line"><span class="comment">///*线段相交模板</span></span><br><span class="line"><span class="comment">//应用：</span></span><br><span class="line"><span class="comment">//1.判断两个线段相交</span></span><br><span class="line"><span class="comment">//2.判断线段与直线相交</span></span><br><span class="line"><span class="comment">//3.判断点在矩形内 </span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">SegmentProperIntersection</span><span class="params">(Pt s1, Pt e1, Pt s2, Pt e2)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">double</span> c1 = det(s2 - s1, e1 - s1), c2 = det(e1 - s1, e2 - s1);</span><br><span class="line">	<span class="keyword">double</span> c3 = det(s1 - s2, e2 - s2), c4 = det(e2 - s2, e1 - s2);</span><br><span class="line">	<span class="keyword">if</span> (c1 * c2 &gt;= <span class="number">0</span> &amp;&amp; c3 * c4 &gt;= <span class="number">0</span>)<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//求点到线段的距离</span></span><br><span class="line"><span class="comment">//求线段 ab 到点p最短距离的方法为：</span></span><br><span class="line"><span class="comment">//根据点 p 到的投影点的位置进行判断的方法：</span></span><br><span class="line"><span class="comment">//判断线段 pa 和 ab 所成的夹角，如果是钝角，那么 | pa | 是点到线段的最短距离。</span></span><br><span class="line"><span class="comment">//判断线段 pb 和 ab 所成的夹角，如果是钝角，那么 | pb | 是点到线段的最短距离。</span></span><br><span class="line"><span class="comment">//线段 pa 和线段 pb 与 ab 所成的夹角都不为钝角，那么点 p 到线段 ab 的距离是点 </span></span><br><span class="line"><span class="comment">//p 到直线 ab 的距离，这个距离可以用面积法直接算出来。</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">PtSegmentDist</span><span class="params">(Pt a, Pt b, Pt p)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (sgn(dot(p - a, b - a)) &lt;= <span class="number">0</span>)<span class="keyword">return</span> norm(p - a);</span><br><span class="line">	<span class="keyword">if</span> (sgn(dot(p - b, a - b)) &lt;= <span class="number">0</span>)<span class="keyword">return</span> norm(p - b);</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">fabs</span>(det(a - p, b - p)) / norm(a - b);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//三角形</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">//三角形的面积</span></span><br><span class="line"><span class="comment">//三角形的面积可以由叉积直接求出。</span></span><br><span class="line"><span class="comment">//S△ABC = | 1/2AB→×AC→ |</span></span><br><span class="line"><span class="comment">//判断点在三角形内</span></span><br><span class="line"><span class="comment">//判断点 P 在三角形 ABC 内部常用的又两种方法，面积法和叉积法。</span></span><br><span class="line"><span class="comment">//面积法</span></span><br><span class="line"><span class="comment">//S△PAB + S△PAC + S△PBC = S△ABC</span></span><br><span class="line"><span class="comment">//叉积法</span></span><br><span class="line"><span class="comment">//利用叉积的正负号判断，如图所示， AP 在向量 AC 的顺时针方向， CP 在</span></span><br><span class="line"><span class="comment">//向量 BC 的顺时针方向， BP 在向量 BC 的顺时针方向，利用这一性质推广，那</span></span><br><span class="line"><span class="comment">//么可以利用叉积的正负号来判断一个点是否在一个凸多边形内部。</span></span><br><span class="line"><span class="comment">struct line &#123; Pt a, b; &#125;;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">double distance(Pt p1, Pt p2) &#123;</span></span><br><span class="line"><span class="comment">	return sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Pt intersection(line u, line v) &#123;</span></span><br><span class="line"><span class="comment">	Pt ret = u.a;</span></span><br><span class="line"><span class="comment">	double t = ((u.a.x - v.a.x) * (v.a.y - v.b.y) - (u.a.y - v.a.y) * (v.a.x - v.b.x))</span></span><br><span class="line"><span class="comment">		/ ((u.a.x - u.b.x) * (v.a.y - v.b.y) - (u.a.y - u.b.y) * (v.a.x - v.b.x));</span></span><br><span class="line"><span class="comment">	ret.x += (u.b.x - u.a.x) * t;</span></span><br><span class="line"><span class="comment">	ret.y += (u.b.y - u.a.y) * t;</span></span><br><span class="line"><span class="comment">	return ret;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">//外心</span></span><br><span class="line"><span class="comment">Pt circumcenter(Pt a, Pt b, Pt c) &#123;</span></span><br><span class="line"><span class="comment">	line u, v;</span></span><br><span class="line"><span class="comment">	u.a.x = (a.x + b.x) / 2;</span></span><br><span class="line"><span class="comment">	u.a.y = (a.y + b.y) / 2;</span></span><br><span class="line"><span class="comment">	u.b.x = u.a.x - a.y + b.y;</span></span><br><span class="line"><span class="comment">	u.b.y = u.a.y + a.x - b.x;</span></span><br><span class="line"><span class="comment">	v.a.x = (a.x + c.x) / 2;</span></span><br><span class="line"><span class="comment">	v.a.y = (a.y + c.y) / 2;</span></span><br><span class="line"><span class="comment">	v.b.x = v.a.x - a.y + c.y;</span></span><br><span class="line"><span class="comment">	v.b.y = v.a.y + a.x - c.x;</span></span><br><span class="line"><span class="comment">	return intersection(u, v);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">//内心</span></span><br><span class="line"><span class="comment">Pt incenter(Pt a, Pt b, Pt c) &#123;</span></span><br><span class="line"><span class="comment">	line u, v;</span></span><br><span class="line"><span class="comment">	double m, n;</span></span><br><span class="line"><span class="comment">	u.a = a;</span></span><br><span class="line"><span class="comment">	m = atan2(b.y - a.y, b.x - a.x);</span></span><br><span class="line"><span class="comment">	n = atan2(c.y - a.y, c.x - a.x);</span></span><br><span class="line"><span class="comment">	u.b.x = u.a.x + cos((m + n) / 2);</span></span><br><span class="line"><span class="comment">	u.b.y = u.a.y + sin((m + n) / 2);</span></span><br><span class="line"><span class="comment">	v.a = b;</span></span><br><span class="line"><span class="comment">	m = atan2(a.y - b.y, a.x - b.x);</span></span><br><span class="line"><span class="comment">	n = atan2(c.y - b.y, c.x - b.x);</span></span><br><span class="line"><span class="comment">	v.b.x = v.a.x + cos((m + n) / 2);</span></span><br><span class="line"><span class="comment">	v.b.y = v.a.y + sin((m + n) / 2);</span></span><br><span class="line"><span class="comment">	return intersection(u, v);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">//垂心</span></span><br><span class="line"><span class="comment">Pt perpencenter(Pt a, Pt b, Pt c) &#123;</span></span><br><span class="line"><span class="comment">	line u, v;</span></span><br><span class="line"><span class="comment">	u.a = c;</span></span><br><span class="line"><span class="comment">	u.b.x = u.a.x - a.y + b.y;</span></span><br><span class="line"><span class="comment">	u.b.y = u.a.y + a.x - b.x;</span></span><br><span class="line"><span class="comment">	v.a = b;</span></span><br><span class="line"><span class="comment">	v.b.x = v.a.x - a.y + c.y;</span></span><br><span class="line"><span class="comment">	v.b.y = v.a.y + a.x - c.x;</span></span><br><span class="line"><span class="comment">	return intersection(u, v);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">//重心</span></span><br><span class="line"><span class="comment">//到三角形三顶点距离的平方和最小的点</span></span><br><span class="line"><span class="comment">//三角形内到三边距离之积最大的点</span></span><br><span class="line"><span class="comment">Pt barycenter(Pt a, Pt b, Pt c) &#123;</span></span><br><span class="line"><span class="comment">	line u, v;</span></span><br><span class="line"><span class="comment">	u.a.x = (a.x + b.x) / 2;</span></span><br><span class="line"><span class="comment">	u.a.y = (a.y + b.y) / 2;</span></span><br><span class="line"><span class="comment">	u.b = c;</span></span><br><span class="line"><span class="comment">	v.a.x = (a.x + c.x) / 2;</span></span><br><span class="line"><span class="comment">	v.a.y = (a.y + c.y) / 2;</span></span><br><span class="line"><span class="comment">	v.b = b;</span></span><br><span class="line"><span class="comment">	return intersection(u, v);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">//费马点</span></span><br><span class="line"><span class="comment">//若三角形3个内角均小于120°，那么3条距离连线正好三等分费马点所在的周角，即该点所对三角形三边的张角相等，均为120°</span></span><br><span class="line"><span class="comment">//。所以三角形的费马点也称为三角形的等角中心。</span></span><br><span class="line"><span class="comment">//若三角形有一内角大于等于120°，则此钝角的顶点就是距离和最小的点。</span></span><br><span class="line"><span class="comment">//到三角形三顶点距离之和最小的点</span></span><br><span class="line"><span class="comment">Pt fermentpoint(Pt a, Pt b, Pt c) &#123;</span></span><br><span class="line"><span class="comment">	Pt u, v;</span></span><br><span class="line"><span class="comment">	double step = fabs(a.x) + fabs(a.y) + fabs(b.x) + fabs(b.y) + fabs(c.x) + fabs(c.y);</span></span><br><span class="line"><span class="comment">	int i, j, k;</span></span><br><span class="line"><span class="comment">	u.x = (a.x + b.x + c.x) / 3;</span></span><br><span class="line"><span class="comment">	u.y = (a.y + b.y + c.y) / 3;</span></span><br><span class="line"><span class="comment">	while (step &gt; 1e-10)</span></span><br><span class="line"><span class="comment">		for (k = 0; k &lt; 10; step /= 2, k++)</span></span><br><span class="line"><span class="comment">			for (i = -1; i &lt;= 1; i++)</span></span><br><span class="line"><span class="comment">				for (j = -1; j &lt;= 1; j++) &#123;</span></span><br><span class="line"><span class="comment">					v.x = u.x + step * i;</span></span><br><span class="line"><span class="comment">					v.y = u.y + step * j;</span></span><br><span class="line"><span class="comment">					if (distance(u, a) + distance(u, b) + distance(u, c) &gt; distance(v, a) + distance(v, b) + distance(v, c))</span></span><br><span class="line"><span class="comment">						u = v;</span></span><br><span class="line"><span class="comment">				&#125;</span></span><br><span class="line"><span class="comment">	return u;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//简单多边形判断点是否在其内部</span></span><br><span class="line"><span class="comment">/*int dcmp(double x)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">	if (fabs(x) &lt; eps) return 0;</span></span><br><span class="line"><span class="comment">	return x &lt; 0 ? -1 : 1;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">bool InSegment(Pt P, Pt A, Pt B)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">	return dcmp(det(A - B, P - B)) == 0 &amp;&amp; dcmp(dot(A - P, B - P)) &lt;= 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">bool PointInPolygon(Pt p, Pt* poly, int n)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">	int wn = 0;</span></span><br><span class="line"><span class="comment">	for (int i = 0; i &lt; n; ++i)</span></span><br><span class="line"><span class="comment">	&#123;</span></span><br><span class="line"><span class="comment">		if (InSegment(p, poly[i], poly[(i + 1) % n])) return true;</span></span><br><span class="line"><span class="comment">		int k = dcmp(det(poly[(i + 1) % n] - poly[i], p - poly[i]));</span></span><br><span class="line"><span class="comment">		int d1 = dcmp(poly[i].y - p.y);</span></span><br><span class="line"><span class="comment">		int d2 = dcmp(poly[(i + 1) % n].y - p.y);</span></span><br><span class="line"><span class="comment">		if (k &gt; 0 &amp;&amp; d1 &lt;= 0 &amp;&amp; d2 &gt; 0) wn++;</span></span><br><span class="line"><span class="comment">		if (k &lt; 0 &amp;&amp; d2 &lt;= 0 &amp;&amp; d1&gt;0) wn--;</span></span><br><span class="line"><span class="comment">	&#125;</span></span><br><span class="line"><span class="comment">	if (wn != 0) return true;</span></span><br><span class="line"><span class="comment">	return false;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">const int max_n = 1010;</span></span><br><span class="line"><span class="comment">Pt point[max_n];</span></span><br><span class="line"><span class="comment">vector&lt;int&gt; vet;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">int main() &#123;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	int n;</span></span><br><span class="line"><span class="comment">	while (scanf("%d", &amp;n) == 1 &amp;&amp; n)</span></span><br><span class="line"><span class="comment">	&#123;</span></span><br><span class="line"><span class="comment">		Pt poly[max_n], p;</span></span><br><span class="line"><span class="comment">		for (int i = 0; i &lt; n; ++i)</span></span><br><span class="line"><span class="comment">			cin&gt;&gt;poly[i].x&gt;&gt;poly[i].y;</span></span><br><span class="line"><span class="comment">		cin&gt;&gt;p.x&gt;&gt;p.y;</span></span><br><span class="line"><span class="comment">		printf("%c\n", PointInPolygon(p, poly, n) ? 'T' : 'F');</span></span><br><span class="line"><span class="comment">	&#125;</span></span><br><span class="line"><span class="comment">	return 0;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Polygon Pt</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> nxt(x) ((x+1)%n)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">PtInPolygon</span><span class="params">(Pt p, Polygon * a, <span class="keyword">int</span> size_a)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> num = <span class="number">0</span>, d1, d2, k, n = size_a;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (PtOnSegment(p, a[i], a[nxt(i)])) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		k = sgn(det(a[nxt(i)] - a[i], p - a[i]));</span><br><span class="line">		d1 = sgn(a[i].y - p.y);</span><br><span class="line">		d2 = sgn(a[nxt(i)].y - p.y);</span><br><span class="line">		<span class="keyword">if</span> (k &gt; <span class="number">0</span> &amp;&amp; d1 &lt;= <span class="number">0</span> &amp;&amp; d2 &gt; <span class="number">0</span>) num++;</span><br><span class="line">		<span class="keyword">if</span> (k &lt; <span class="number">0</span> &amp;&amp; d2 &lt;= <span class="number">0</span> &amp;&amp; d1 &gt; <span class="number">0</span>) num--;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> num != <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Pt point[max_n];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="keyword">while</span> (scanf_s(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span> &amp;&amp; n)</span><br><span class="line">	&#123;</span><br><span class="line">		Pt  poly[max_n], p;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; poly[i].x &gt;&gt; poly[i].y;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; p.x &gt;&gt; p.y;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c\n"</span>, PtInPolygon(p, poly, n) ? <span class="string">'T'</span> : <span class="string">'F'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

		  	  
	</div>



	<div class="article-categories">
	 
	</div>
	

	<div class="article-tags">
		
			<i class="iconfont icon-tags" style="margin-right:4px"></i>
			            
				<a class="link" href="/tags/Computing-Geometry/">Computing Geometry</a>           
			
		
	</div>

	<div class="article-bottom">
		<a class="readmore" href="/2019/08/12/template-of-Computing-Geometry/">Continue</a> 	
	</div>	
    
</article>

	
	
	
	

<article class="article">		
	   
	<div class="article-header">
	    
		<a class="title" href="/2019/08/02/矩阵的幂template/">矩阵的幂template</a>  
	       
		 

		<div class="meta">
			<time>Aug 02, 2019</time>			
		</div>
	</div>


	

    
	<div class="typo article-excerpt">	
		 
			<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line">ll mod;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">matrix</span>&#123;</span></span><br><span class="line">    ll a[<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    matrix()&#123;&#125;</span><br><span class="line">    matrix(<span class="keyword">int</span> k)&#123;</span><br><span class="line">        n = k;</span><br><span class="line">        <span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="keyword">sizeof</span>(a));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++) a[i][i] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    matrix <span class="keyword">operator</span> * (<span class="keyword">const</span> matrix &amp;B)&#123;</span><br><span class="line">        <span class="function">matrix <span class="title">C</span><span class="params">(n)</span></span>;</span><br><span class="line">        C.a[<span class="number">0</span>][<span class="number">0</span>] = (a[<span class="number">0</span>][<span class="number">0</span>] * B.a[<span class="number">0</span>][<span class="number">0</span>] % mod + a[<span class="number">0</span>][<span class="number">1</span>] * B.a[<span class="number">1</span>][<span class="number">0</span>] % mod) % mod;</span><br><span class="line">        C.a[<span class="number">0</span>][<span class="number">1</span>] = (a[<span class="number">0</span>][<span class="number">0</span>] * B.a[<span class="number">0</span>][<span class="number">1</span>] % mod + a[<span class="number">0</span>][<span class="number">1</span>] * B.a[<span class="number">1</span>][<span class="number">1</span>] % mod) % mod;</span><br><span class="line">        C.a[<span class="number">1</span>][<span class="number">0</span>] = (a[<span class="number">1</span>][<span class="number">0</span>] * B.a[<span class="number">0</span>][<span class="number">0</span>] % mod + a[<span class="number">1</span>][<span class="number">1</span>] * B.a[<span class="number">1</span>][<span class="number">0</span>] % mod) % mod;</span><br><span class="line">        C.a[<span class="number">1</span>][<span class="number">1</span>] = (a[<span class="number">1</span>][<span class="number">0</span>] * B.a[<span class="number">0</span>][<span class="number">1</span>] % mod + a[<span class="number">1</span>][<span class="number">1</span>] * B.a[<span class="number">1</span>][<span class="number">1</span>] % mod) % mod;</span><br><span class="line">        <span class="keyword">return</span> C;</span><br><span class="line">    &#125;</span><br><span class="line">    matrix <span class="keyword">operator</span> ^ (ll k)&#123;</span><br><span class="line">        matrix A = (*<span class="keyword">this</span>), res(n);</span><br><span class="line">        res.init();</span><br><span class="line">        <span class="keyword">while</span>(k)&#123;</span><br><span class="line">            <span class="keyword">if</span>(k&amp;<span class="number">1</span>) res = res * A;</span><br><span class="line">            A = A * A;</span><br><span class="line">            k &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1000000</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">char</span> s[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ll x0,x1,a,b;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld%lld%lld%lld"</span>,&amp;x0,&amp;x1,&amp;a,&amp;b);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s%lld"</span>,s,&amp;mod);</span><br><span class="line">    x0 %= mod, x1 %= mod, a %= mod, b %= mod;</span><br><span class="line">    <span class="function">matrix <span class="title">A</span><span class="params">(<span class="number">2</span>)</span></span>;</span><br><span class="line">    A.a[<span class="number">0</span>][<span class="number">0</span>] = a, A.a[<span class="number">0</span>][<span class="number">1</span>] = b;</span><br><span class="line">    A.a[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">1</span>, A.a[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//    for(int i=0;i&lt;1000000;i++) s[i] = rand()%10+'0';</span></span><br><span class="line">    <span class="keyword">int</span> n = <span class="built_in">strlen</span>(s);</span><br><span class="line">    <span class="function">matrix <span class="title">res</span><span class="params">(<span class="number">2</span>)</span></span>;</span><br><span class="line">    res.init();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        res = res * (A ^ (s[n-i<span class="number">-1</span>]-<span class="string">'0'</span>));</span><br><span class="line">        A = A ^ <span class="number">10</span>;<span class="comment">//以十的次方为单位的快速幂</span></span><br><span class="line">    &#125;</span><br><span class="line">    ll ans = (res.a[<span class="number">1</span>][<span class="number">0</span>] * x1 % mod + res.a[<span class="number">1</span>][<span class="number">1</span>] * x0 % mod) % mod;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

		  	  
	</div>



	<div class="article-categories">
	 
	</div>
	

	<div class="article-tags">
		
	</div>

	<div class="article-bottom">
		<a class="readmore" href="/2019/08/02/矩阵的幂template/">Continue</a> 	
	</div>	
    
</article>

	
	

	
	
 
   <nav class="paginator">
    

   <span class="page-number"> Page <strong>1</strong>, Posts <strong>16</strong>. </span>

    
        <a class="next" href="/page/2/"> 
            Next
            <i class="iconfont icon-right"></i>
        </a>
    
  </nav> 

	

    <script type="text/x-mathjax-config">
        var post = document.getElementsByClassName("post")[0];  
        MathJax.Hub.Config({
            showProcessingMessages: false,
            messageStyle: "none",    
            tex2jax: {
                inlineMath:  [ ["$", "$"] , ["\\(","\\)"]],
                displayMath: [ ["$$","$$"] , ["\\[","\\]"]],
                skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code','a'],
            },
            "HTML-CSS": {            
                showMathMenu: false
            }
        });
        MathJax.Hub.Queue(["Typeset",MathJax.Hub,post]);
    </script>
    <style>.MathJax{outline:0;}</style>

    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.2/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
 
</div>
          </div> 
      </div>            
    
        <i id="toTop" class="iconfont icon-backtotop"></i>

  
    <div class="none" id="search">
    <div class="header">
        <input type="text" placeholder="Typing Something here." id="search-input" class="input">
        
        <i id="search-cancel" class="iconfont icon-cancel"></i>
    </div>

    <div id="search-result" class="result"></div>
</div>
     <div class="mobile-menu">      

      
      <img class="mobile-menu-icon lazyload" src="/images/placeholder.png" data-src="/images/favicon.png">  
      

         
            

            <a class="mobile-menu-link" href="/">Home
            </a>
            
         
            

            <a class="mobile-menu-link" href="/archives">Archives
            </a>
            
         
            

            <a class="mobile-menu-link" href="/tags">Tags
            </a>
            
         
            

            <a class="mobile-menu-link" href="/about">About
            </a>
            
         
                          

            <a class="mobile-menu-link mobile-menu-search" href="#">Search </a>                 
            
         
      
</div>
        
    



     
    


<footer class="footer">
	<div class="inner">
		<div class="copyright">
			&copy;
			
			2019
			Qinli

			<br>
			By <a href="https://hexo.io" target="_blank">Hexo</a> Theme <a href="https://github.com/Lemonreds/hexo-theme-Nayo" target="_blank">Nayo</a>
		</div>
	</div>
</footer>   

    <script src="/nayo.bundle.js"></script>           
  </body>        
</html>